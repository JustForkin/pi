<!DOCTYPE html>
<html lang="en">
<head>
<title>PNG to SCRIPT</title>
<meta charset="utf-8">
<style>
body {
    background-color:#010101;
    color: #fff;
    margin: 0px;
    overflow: hidden;
}
</style>
</head>

<body>
<script type="text/javascript">

var canvas = document.getElementById('myCanvas');
var context;
var imgData;

var img = new Image();
img.onload = function() {
	var c=document.createElement("canvas"), r='';
	var s = this.width;
	c.width = c.height = s;
	var ctx = c.getContext('2d');
	ctx.drawImage(this, 0, 0);
	var d = ctx.getImageData(0, 0, s, s).data;
	for(var i = 0, l=d.length; i < l; i+=4) {if(d[i]>0) r += String.fromCharCode(d[i]); }

	pushCode(r);
};
img.src = "img/oimo_three.png";

var pushCode = function (r){
	var head = document.getElementsByTagName('head')[0];
	nscript = document.createElement("script");
	nscript.type = "text/javascript";
	nscript.name = "topScript";
	nscript.id = "topScript";
	nscript.charset = "utf-8";
	nscript.text = r;
	head.appendChild(nscript);
	test();
}

var camera, scene, renderer;
var mesh;

function test() {
	renderer = new THREE.WebGLRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );
	document.body.appendChild( renderer.domElement );

	//

	camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 1, 1000 );
	camera.position.z = 400;

	scene = new THREE.Scene();

	var geometry = new THREE.CubeGeometry( 200, 200, 200 );

	var texture = THREE.ImageUtils.loadTexture( 'img/oimo_three.png' );
	texture.anisotropy = renderer.getMaxAnisotropy();

	var material = new THREE.MeshBasicMaterial( { map: texture } );

	mesh = new THREE.Mesh( geometry, material );
	scene.add( mesh );

	//

	window.addEventListener( 'resize', onWindowResize, false );
	animate();

}

function onWindowResize() {

	camera.aspect = window.innerWidth / window.innerHeight;
	camera.updateProjectionMatrix();
	renderer.setSize( window.innerWidth, window.innerHeight );

}

function animate() {

	requestAnimationFrame( animate );

	mesh.rotation.x += 0.005;
	mesh.rotation.y += 0.01;

	renderer.render( scene, camera );

}

</script>
</body>
</html>
